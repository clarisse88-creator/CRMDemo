
@using Domain.Entities
@using Application.Services.Users
@* // Add this if IUserService is in Application.Interfaces *@

@page "/Users"
@inject IUserService  UserService 
<PageTitle>User</PageTitle>

<h3>Welcome to Users page</h3>

<div> 
  @* <a href="/Users/create" class="btn btn-secondary">AddUser</a> *@
      <MudButton Href="/Users/create" Variant="Variant.Filled" Color="Color.Primary">Add Campaign</MudButton>
</div>
   
    <MudContainer MaxWidth="MaxWidth.Large" Class="py-8">
    <MudPaper Elevation="0" Class="mb-6">
        <MudStack Row="true" Spacing="1" AlignItems="AlignItems.Center" Class="p-6">
            <MudTable Items="users" Hover="true" Bordered="true" Striped="true">
                <HeaderContent>
                    <MudTh>Id</MudTh>
                    <MudTh>FirstName</MudTh>
                    <MudTh>LastName</MudTh>
                    <MudTh>Email</MudTh>
                    <MudTh>PhoneNumber</MudTh>
                    <MudTh>Password</MudTh>
                    <MudTh>Role</MudTh>
                    <MudTh>Status</MudTh>
                   
                </HeaderContent>
                <RowTemplate>
                    <MudTd >@context.Id</MudTd>
                    <MudTd >@context.FirstName</MudTd>
                    <MudTd >@context.LastName</MudTd>
                    <MudTd >@context.PhoneNumber</MudTd>
                    <MudTd >@context.Password</MudTd>
                    <MudTd >@context.Role</MudTd>
                   
                    <MudTd Style="text-align:center">   </MudTd>
                        <MudStack Row="true" Spacing="2" Justify="Justify.Center">
                            <MudButton Href="@string.Format("/Users/Edit/{0}", context.Id)" 
                                       Variant="Variant.Filled" 
                                       Color="Color.Warning" 
                                       Size="Size.Small"
                                       StartIcon="@Icons.Material.Filled.Edit">
                                Edit
                            </MudButton>
                            <MudButton Href="@string.Format("/Users/{0}", context.Id)" 
                                       Variant="Variant.Filled" 
                                       Color="Color.Primary" 
                                       Size="Size.Small"
                                       StartIcon="@Icons.Material.Filled.MoreHoriz">

                                View
                              
                           </MudButton>
                        </MudStack>
                </RowTemplate>

            </MudTable>
            
     </MudStack>
     </MudPaper>

</MudContainer>

  

@code {
    List<User> users = new List<User>();
        protected override void OnInitialized()
        {
            users = UserService.GetAllUsers();
        }     
    }
  