@page "/"
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@using Application.DTO
@using Application.Services.Customers
@inject ICustomerService CustomerService
<PageTitle>Home</PageTitle>



<MudContainer MaxWidth="MaxWidth.Medium" Class="mt-6">
    <MudCard>
        <MudCardContent>
            <MudText Typo="Typo.h4" Class="mb-4">Welcome to CRM Demo</MudText>
            <MudText Typo="Typo.body1" Class="mb-4">
                Welcome to your new CRM application. Use the navigation menu to explore different sections.
            </MudText>
            <MudDivider Class="my-4" />
            <MudText Typo="Typo.body2" Color="Color.Secondary">
                Get started by managing your customers, tickets, campaigns, and users.
            </MudText>
            
        </MudCardContent>
    </MudCard>
</MudContainer>
@code {
    private  List<CityCountDTO> cityCountCount = new List<CityCountDTO>();
        private int TotalCity => cityCountCount .Sum(t => t.Count);
    protected override  void OnInitialized()
    {
        
     LoardcityCountCount (); 
    }
    private void LoardcityCountCount()
    {
      cityCountCount = CustomerService.GetCityCustomerCityByCity();
    }
}